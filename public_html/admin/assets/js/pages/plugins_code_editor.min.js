$(function(){altair_code_editor.init()});var $codeEditor=$("#codeEditor"),file_list_class=".file_list";altair_code_editor={init:function(){altair_code_editor.copy_list_sidebar(),altair_code_editor.init_code_editor(),altair_code_editor.distraction_free_mode(),altair_code_editor.change_theme()},init_code_editor:function(){function t(t,e,i){altair_helpers.content_preloader_show("regular",$(".md-card-single")),$codeEditor.next(".CodeMirror").velocity({opacity:0},{duration:400,complete:function(){$.ajax({url:t,dataType:"text",success:function(t){"html"==e&&(cEditor.setOption("mode","text/html"),cEditor.setOption("matchTags",{bothTags:!0})),"js"==e&&(cEditor.setOption("mode","text/javascript"),cEditor.setOption("matchBrackets",!0)),"php"==e&&(cEditor.setOption("mode","application/x-httpd-php"),cEditor.setOption("matchTags",!1),cEditor.setOption("matchBrackets",!0)),"json"==e&&cEditor.setOption("mode","application/json"),cEditor.setValue(t),"function"==typeof i&&i(),setTimeout(function(){altair_helpers.content_preloader_hide()},280),$codeEditor.next(".CodeMirror").velocity("reverse")}})}})}cEditor=CodeMirror.fromTextArea(document.getElementById("codeEditor"),{lineNumbers:!0,mode:"text/html",matchTags:{bothTags:!0},extraKeys:{F11:function(t){t.setOption("fullScreen",!t.getOption("fullScreen"))},Esc:function(t){t.getOption("fullScreen")&&t.setOption("fullScreen",!1)}}}),$(file_list_class).find("a").on("click",function(e){e.preventDefault();var i=$(this),o=i.attr("data-editor-file"),c=i.attr("data-editor-mode");if(!i.closest("li").hasClass("md-list-item-active")){var r=function(){i.closest("li").addClass("md-list-item-active").siblings("li").removeClass("md-list-item-active")};t("data/codemirror/file_content.php?file="+o,c,r)}})},distraction_free_mode:function(){$codeEditor.next(".CodeMirror").append('<button class="uk-modal-close uk-close uk-close-alt" type="button" id="code_editor_close"></button>').on("click","#code_editor_close",function(){cEditor.setOption("fullScreen",!1)}),$("#code_editor_fullscreen").on("click",function(t){t.preventDefault(),cEditor.setOption("fullScreen",!0)})},change_theme:function(){function t(t){cEditor.setOption("theme",t)}$("#code_editor_theme").find("a").click(function(e){e.preventDefault();var i=$(this).attr("data-editor-theme");t(i),$(this).closest("li").addClass("uk-active").siblings("li").removeClass("uk-active")})},copy_list_sidebar:function(){$sidebar_secondary_toggle.addClass("uk-hidden-large");var t=$(file_list_class).clone();t.attr("id","file_list_sidebar"),$sidebar_secondary.find(".sidebar_secondary_wrapper").html(t)}};