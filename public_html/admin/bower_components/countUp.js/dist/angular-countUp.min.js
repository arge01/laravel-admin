!function(t){"use strict";var a=t.module("countUpModule",[]);a.directive("countUp",["$filter",function(t){return{restrict:"A",link:function(a,e,n){function i(a,e,n,i,r){for(var o=0,l=["webkit","moz","ms","o"],s=0;s<l.length&&!window.requestAnimationFrame;++s)window.requestAnimationFrame=window[l[s]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[l[s]+"CancelAnimationFrame"]||window[l[s]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var a=(new Date).getTime(),e=Math.max(0,16-(a-o)),n=window.setTimeout(function(){t(a+e)},e);return o=a+e,n}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)}),this.d=document.getElementById(a),this.startVal=e,this.endVal=n,this.countDown=this.startVal>this.endVal,this.frameVal=this.startVal,this.duration=1e3*r||2e3,this.decimals=Math.max(0,i||0),this.dec=Math.pow(10,this.decimals);var u=this;this.printValue=function(a){console.log(a);var e=t("number")(a,i);console.log(e),this.d.innerHTML=e},this.easeOutExpo=function(t,a,e,n){return e*(-Math.pow(2,-10*t/n)+1)*1024/1023+a},this.count=function(t){u.startTime||(u.startTime=t),u.timestamp=t;var a=t-u.startTime;u.remaining=u.duration-a,u.frameVal=u.countDown?u.startVal-u.easeOutExpo(a,0,u.startVal-u.endVal,u.duration):u.easeOutExpo(a,u.startVal,u.endVal-u.startVal,u.duration),u.frameVal=u.countDown?u.frameVal<u.endVal?u.endVal:u.frameVal:u.frameVal>u.endVal?u.endVal:u.frameVal,u.frameVal=Math.round(u.frameVal*u.dec)/u.dec,u.printValue(u.frameVal),a<u.duration?u.rAF=requestAnimationFrame(u.count):u.callback&&u.callback()},this.start=function(t){return u.callback=t,isNaN(u.endVal)||isNaN(u.startVal)||u.startVal===u.endVal?this.d.innerHTML=n:u.rAF=requestAnimationFrame(u.count),!1},this.reset=function(){u.paused=!1,delete u.startTime,u.startVal=e,cancelAnimationFrame(u.rAF),u.printValue(u.startVal)},this.update=function(t){delete u.callback,cancelAnimationFrame(u.rAF),u.paused=!1,delete u.startTime,u.startVal=u.frameVal,u.endVal=Number(t),u.countDown=u.startVal>u.endVal,u.rAF=requestAnimationFrame(u.count)},u.printValue(u.startVal)}function r(){l>9999?(m.reset(),m.start(function(){m.update(l)})):(m.reset(),m.start())}var o=n.startVal||0;isNaN(o)&&(o=Number(o.match(/[\d\-\.]+/g).join("")));var l=n.endVal||0;isNaN(l)&&(l=Number(l.match(/[\d\-\.]+/g).join("")));var s=Number(n.duration)||2.5,u=Number(n.decimals)||0,m=new i(n.id,o,l,u,s);l>9999&&(m=new i(n.id,o,l-100,u,s/2)),n.scrollSpyEvent?a.$on(n.scrollSpyEvent,function(t,a){a===n.id&&r()}):r(),e.on("click",function(){r()})}}}])}(angular);